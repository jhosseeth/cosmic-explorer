<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador de Personalidad Cósmica</title>
    <link rel="icon" href="./img/favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/button.css">
    <link rel="stylesheet" href="./css/loader.css">
</head>
<body>
    <div id="loading-screen" class="loader" aria-live="polite">
        <div class="loader-content">
            <h2 id="loading-txt">Cargando...</h2>
            <div id="start-experience" class="hidden">
                <p>Para una mejor experiencia usa audifonos!</p>
                <button id="start-btn" class="glowbutton">Entendido</button>
            </div>
        </div>
        <canvas id="stars"></canvas>
    </div>

    <main id="content" class="content">
        <header>
            <img src="./img/logo.png" alt="Explorador Cósmico" id="logo" width="200">
        </header>

        <section id="welcome">
            <h1>Bienvenido al Explorador de Personalidad Cósmica</h1>
            <p>Descubre qué entidad astronómica representa tu esencia.</p>
            <button class="glowbutton" onclick="location.href='formulario.html'">Comenzar</button>
        </section>

        <section id="summary" class="hidden"></section>
    </main>

    <script>
        // Obtengo los datos del formulario
        const params = new URLSearchParams(window.location.search);
        const data = {
            name: params.get("name"),
            traits: {
                impact: params.get("impact"),
                environment: params.get("environment"),
                change: params.get("change"),
                quality: params.get("quality"),
                role: params.get("role")
            }
        }

        // Valido si todos los datos están completos
        const isDataComplete = Boolean(data.name) && 
            Object.values(data.traits).every(trait => Boolean(trait));

        // Guardo los datos en el localStorage
        localStorage.setItem('data', data);
        localStorage.setItem('isDataComplete', isDataComplete);
    </script>
    <script src="./js/loader.js"></script>
    <script src="./js/index.js"></script>
    <script type="module" src="./js/main.js"></script>
</body>
</html>