<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador de Personalidad Cósmica</title>
    <link rel="icon" href="./img/favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/button.css">
    <link rel="stylesheet" href="./css/loader.css">
</head>
<body>
    <div id="loading-screen" class="loader" aria-live="polite">
        <div class="loader-content">
            <h2 id="loading-txt">Cargando...</h2>
            <div id="start-experience" class="hidden">
                <p>Para una mejor experiencia usa audifonos!</p>
                <button id="start-btn" class="glowbutton">Entendido</button>
            </div>
        </div>
        <canvas id="stars"></canvas>
    </div>

    <h1 id="title" class="title hidden">Explorador de Personalidad Cósmica</h1>
    <p id="msg" class="message hidden">Descubre qué entidad astronómica representa tu esencia.</p>
    <button id="to-form" class="start glowbutton hidden">Comenzar</button>

    <section id="summary" class="summary hidden"></section>

    <footer>Crafted by Jhoss Naranjo <span style="font-family: Arial, Helvetica, sans-serif;">©</span></footer>

    <script>
        // Obtengo los datos del formulario
        const params = new URLSearchParams(window.location.search);
        const data = {
            name: params.get("name"),
            traits: {
                impact: params.get("impact"),
                environment: params.get("environment"),
                change: params.get("change"),
                quality: params.get("quality"),
                role: params.get("role")
            }
        }

        // Valido si todos los datos están completos
        const isDataComplete = Boolean(data.name) && 
            Object.values(data.traits).every(trait => Boolean(trait));

        // Guardo los datos en el localStorage
        localStorage.setItem('data', JSON.stringify(data));
        localStorage.setItem('isDataComplete', isDataComplete);
    </script>
    <script src="./js/loader.js"></script>
    <script src="./js/index.js"></script>
    <script type="module" src="./js/main.js"></script>
</body>
</html>